{{ define "title" }}Search Results{{ end }}

{{ define "content" }}
<div class="w-full max-w-3xl bg-white p-6 rounded shadow">
    <div class="mb-6">
        {{ template "nav-bar" . }}
    </div>
    <div class="mb-6">
        {{ template "search-bar" . }}
    </div>
    {{ if .Results }}
    <ul class="space-y-6">
        {{ range .Results }}
        <li class="flex gap-4 items-start">
            <a href="/show/details?id={{ .ID }}">
                <img src="{{ .Poster }}" alt="{{ .Name }} poster" class="w-24 h-36 object-cover rounded">
            </a>

            <div class="flex-1 text-left">
                <h3 class="text-xl font-semibold text-gray-900">
                    <a href="/show/details?id={{ .ID }}">
                        {{ .Name }} <span class="text-sm text-gray-500">({{ .Year }})</span>
                    </a>
                </h3>
                <p class="text-gray-700 mt-1 mb-4">{{ .Description }}</p>

                {{ if .Added }}
                <button onclick="window.location.href='/show/remove?id={{ .ID }}'"
                    class="ml-4 bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 text-sm font-semibold">
                    Remove -
                </button>
                {{ else }}
                <button onclick="window.location.href='/show/add?id={{ .ID }}'"
                    class="ml-4 bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm font-semibold">
                    Add +
                </button>
                {{ end }}
            </div>
        </li>
        {{ end }}
    </ul>
    {{ else }}
    <p class="text-gray-600">No results found.</p>
    {{ end }}
</div>
{{ end }}